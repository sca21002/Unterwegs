<!doctype html>
<html ng-app="unterwegsApp">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../build/unterwegs.css">
  </head>
  <body ng-controller="MainController as ctrl">
    <header>
      <div class="title">    
        Unterwegs
      </div>
    </header>
    <main>
      <ngeo-modal ng-model="ctrl.modalEditAttributeShown" 
        ngeo-modal-destroy-content-on-hide="true">
        <unterwegs-editattribute 
          track="ctrl.track" 
          finish="ctrl.attributeUpdated()" />
      </ngeo-modal>
      <div>
      <unterwegs-edittrackpoint
        unterwegs-edittrackpoint-active="ctrl.editTrackpointActive"
        unterwegs-edittrackpoint-fid="ctrl.trackFidSelected"
        unterwegs-edittrackpoint-map="ctrl.map"
        unterwegs-edittrackpoint-trackfid="ctrl.trackFidSelected"
        unterwegs-edittrackpoint-finish="ctrl.trackpointDeleted()" /> 
      </div>    
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-7">
            <div class="map-container">
              <div id="map" ngeo-map="ctrl.map">
              </div>
              <unterwegs-profile
                unterwegs-profile-type="ctrl.profileType"
                unterwegs-profile-line="ctrl.profileLine"
                unterwegs-profile-map="ctrl.map"
                unterwegs-track-fid="ctrl.trackFidSelected"
                unterwegs-track-source="ctrl.trackSource">
              </unterwegs-profile>
            </div>
          </div>
          <div class="col-md-5">
            <div>  
              <unterwegs-list 
                unterwegs-list-tracks="ctrl.tracks"
                unterwegs-list-page="ctrl.page"
                unterwegs-list-totaltracks="ctrl.totalTracks"
                unterwegs-list-numpages="ctrl.numPages"
                unterwegs-list-pagechanged="ctrl.pageChanged()"
                unterwegs-list-hover="ctrl.hoverFunction()",
                unterwegs-list-click="ctrl.clickFunction()" />  
            </div> 
            <div>  
              <unterwegs-panel
                unterwegs-panel-action="ctrl.getPanelActionFunction()" />
            </div>  
          </div>    
        </div>
      </div> 
    </main>
    <!--load jquery before angular.js -->
    <script src="../node_modules/jquery/dist/jquery.js"></script>
    <script src="../node_modules/angular/angular.js"></script>
    <script src="../node_modules/angular-gettext/dist/angular-gettext.js"></script> 
    <script src="../node_modules/angular-ui-date/dist/date.js"></script> 
    <script src="../node_modules/ui-bootstrap-custom/ui-bootstrap-custom-tpls-2.1.4.min.js"></script> 
    <script src="../node_modules/d3/d3.js"></script> 
    <script src="../node_modules/angular-float-thead/angular-floatThead.js"></script> 
    <script src="../node_modules/bootstrap/dist/js/bootstrap.js"></script> 
    <script src="/@?main=js/app.js"></script> 
    <!-- <script src="../build/unterwegs.js"></script> -->
    <script src="default.js"></script>
  </body>
</html>
